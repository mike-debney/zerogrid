{
    "config": {
        "step": {
            "user": {
                "title": "Basic configuration",
                "data": {
                    "name": "Name",
                    "house_consumption_amps_entity": "House consumption sensor",
                    "solar_generation_amps_entity": "Solar generation sensor (optional)",
                    "enable_automatic_recalculation": "Enable periodic recalculation",
                    "recalculate_interval_seconds": "Minimum recalculation interval (seconds)",
                    "load_measurement_delay_seconds": "Load measurement delay (seconds)",
                    "disable_consumption_unavailable_safety_abort": "Disable unavailable state safety abort"
                },
                "data_description": {
                    "name": "A unique name for this ZeroGrid instance (e.g., 'Main House', 'Guest House', 'Workshop')",
                    "house_consumption_amps_entity": "Entity measuring total house consumption in amps. This is used to monitor overall electrical usage and trigger recalculations when consumption changes.",
                    "solar_generation_amps_entity": "Optional entity measuring solar generation in amps. If provided, the system will prioritize using solar power and enable surplus solar modes for controllable loads. Leave blank if you don't have solar generation.",
                    "enable_automatic_recalculation": "When enabled, the system will automatically recalculate the load control plan if the house consumption did not change over the specified interval. This complements event-driven recalculation based on house consumption readings.",
                    "recalculate_interval_seconds": "Time interval for periodic recalculation of the load control plan.",
                    "load_measurement_delay_seconds": "Time delay after turning on a load before using its actual measured consumption. During this period, the expected load value is used instead of the measured load to account for soft-starts, variable loads, and measurement delays.",
                    "disable_consumption_unavailable_safety_abort": "When enabled, the system will NOT trigger a safety abort when the house consumption sensor becomes unavailable. Use with caution - this disables an important safety feature."
                }
            },
            "safety": {
                "title": "Safety and electrical constraints",
                "data": {
                    "max_total_load_amps": "Maximum total load (amps)",
                    "max_grid_import_amps": "Maximum grid import (amps)",
                    "max_solar_generation_amps": "Maximum solar generation (amps)",
                    "safety_margin_amps": "Safety margin (amps)"
                },
                "data_description": {
                    "max_total_load_amps": "Maximum total load that your electrical system can handle. This is typically determined by your main circuit breaker rating.",
                    "max_grid_import_amps": "Maximum amount of load allowed to be drawn from the grid. Set this to zero to prevent any grid import, or to a specific value to limit grid usage while allowing some backup power.",
                    "max_solar_generation_amps": "Maximum solar generation capacity in amps. This should typically match your solar inverter's maximum output.",
                    "safety_margin_amps": "Safety buffer above the maximum load threshold. When total consumption exceeds max_total_load_amps + safety_margin_amps for longer than the recalculate interval, the system will trigger overload protection by immediately shedding controllable loads in reverse priority."
                }
            },
            "loads": {
                "title": "Configure controllable loads",
                "description": "How many controllable loads do you want to configure?",
                "data": {
                    "num_loads": "Number of loads"
                }
            },
            "load_config": {
                "title": "Configure load {load_number} of {total_loads}",
                "description": "Configure the parameters for this controllable load.",
                "data": {
                    "name": "Load name",
                    "max_controllable_load_amps": "Maximum load (amps)",
                    "min_controllable_load_amps": "Minimum load (amps)",
                    "min_toggle_interval_seconds": "Minimum toggle interval (seconds)",
                    "min_throttle_interval_seconds": "Minimum throttle interval (seconds)",
                    "load_amps_entity": "Load current sensor",
                    "switch_entity": "Switch entity",
                    "throttle_amps_entity": "Throttle control entity (optional)",
                    "can_turn_on_entity": "Can turn on constraint entity (optional)",
                    "can_turn_on_ignore_unavailable": "Disable unavailable state safety abort",
                    "assume_always_under_load_control": "Assume always under load control",
                    "solar_turn_on_window_seconds": "Solar turn on window (seconds)",
                    "solar_turn_off_window_seconds": "Solar turn off window (seconds)",
                    "load_measurement_delay_seconds": "Load measurement delay (seconds)"
                },
                "data_description": {
                    "name": "Unique name for the load",
                    "max_controllable_load_amps": "Maximum power this load can consume",
                    "min_controllable_load_amps": "Minimum power needed (same as max for non-throttleable loads)",
                    "min_toggle_interval_seconds": "Minimum time between on/off switches to reduce contactor wear",
                    "min_throttle_interval_seconds": "Minimum time between throttle adjustments",
                    "load_amps_entity": "Sensor measuring actual consumption in amps",
                    "switch_entity": "Switch entity to the load on or off",
                    "throttle_amps_entity": "Number entity to control throttle level (leave blank to disable throttling)",
                    "can_turn_on_entity": "Optional binary sensor or input_boolean that must be 'on' for the load to be turned on by load management",
                    "can_turn_on_ignore_unavailable": "When enabled, the load can still turn on even if the constraint entity becomes unavailable or unknown. When disabled (default), an unavailable constraint entity will prevent the load from turning on.",
                    "assume_always_under_load_control": "When enabled, the load is considered under load control whenever it is on, even if it was turned on externally. This allows the integration to manage loads that may be turned on by other automations or manually.",
                    "solar_turn_on_window_seconds": "Time window in seconds to wait for sufficient solar surplus before turning on this load. The load will only turn on if there has been enough solar surplus for this duration.",
                    "solar_turn_off_window_seconds": "Time window in seconds to wait before turning off this load when average solar surplus becomes insufficient. This mitigates frequent on/off cycling due to temporary cloud cover.",
                    "load_measurement_delay_seconds": "Time delay after turning on this load before using its actual measured consumption. During this period, the expected load value is used instead of the measured load to account for soft-starts, variable loads, and measurement delays."
                }
            }
        },
        "error": {
            "cannot_connect": "[%key:common::config_flow::error::cannot_connect%]",
            "invalid_auth": "[%key:common::config_flow::error::invalid_auth%]",
            "unknown": "[%key:common::config_flow::error::unknown%]",
            "duplicate_load": "Each load must be selected exactly once. Please ensure no load appears in multiple positions."
        },
        "abort": {
            "already_configured": "[%key:common::config_flow::abort::already_configured_device%]"
        }
    },
    "options": {
        "step": {
            "menu": {
                "title": "ZeroGrid configuration",
                "menu_options": {
                    "monitoring": "[%key:component::zerogrid::config::step::user::title%]",
                    "safety": "[%key:component::zerogrid::config::step::safety::title%]",
                    "manage_loads": "[%key:component::zerogrid::config::step::loads::title%]",
                    "reorder_loads": "Controllable load prioritisation"
                }
            },
            "monitoring": {
                "title": "[%key:component::zerogrid::config::step::user::title%]",
                "data": {
                    "house_consumption_amps_entity": "[%key:component::zerogrid::config::step::user::data::house_consumption_amps_entity%]",
                    "solar_generation_amps_entity": "[%key:component::zerogrid::config::step::user::data::solar_generation_amps_entity%]",
                    "enable_automatic_recalculation": "[%key:component::zerogrid::config::step::user::data::enable_automatic_recalculation%]",
                    "recalculate_interval_seconds": "[%key:component::zerogrid::config::step::user::data::recalculate_interval_seconds%]",
                    "load_measurement_delay_seconds": "[%key:component::zerogrid::config::step::user::data::load_measurement_delay_seconds%]",
                    "disable_consumption_unavailable_safety_abort": "[%key:component::zerogrid::config::step::user::data::disable_consumption_unavailable_safety_abort%]"
                },
                "data_description": {
                    "house_consumption_amps_entity": "[%key:component::zerogrid::config::step::user::data_description::house_consumption_amps_entity%]",
                    "solar_generation_amps_entity": "[%key:component::zerogrid::config::step::user::data_description::solar_generation_amps_entity%]",
                    "enable_automatic_recalculation": "[%key:component::zerogrid::config::step::user::data_description::enable_automatic_recalculation%]",
                    "recalculate_interval_seconds": "[%key:component::zerogrid::config::step::user::data_description::recalculate_interval_seconds%]",
                    "load_measurement_delay_seconds": "[%key:component::zerogrid::config::step::user::data_description::load_measurement_delay_seconds%]",
                    "disable_consumption_unavailable_safety_abort": "[%key:component::zerogrid::config::step::user::data_description::disable_consumption_unavailable_safety_abort%]"
                }
            },
            "safety": {
                "title": "[%key:component::zerogrid::config::step::safety::title%]",
                "data": {
                    "max_total_load_amps": "[%key:component::zerogrid::config::step::safety::data::max_total_load_amps%]",
                    "max_grid_import_amps": "[%key:component::zerogrid::config::step::safety::data::max_grid_import_amps%]",
                    "max_solar_generation_amps": "[%key:component::zerogrid::config::step::safety::data::max_solar_generation_amps%]",
                    "safety_margin_amps": "[%key:component::zerogrid::config::step::safety::data::safety_margin_amps%]"
                },
                "data_description": {
                    "max_total_load_amps": "[%key:component::zerogrid::config::step::safety::data_description::max_total_load_amps%]",
                    "max_grid_import_amps": "[%key:component::zerogrid::config::step::safety::data_description::max_grid_import_amps%]",
                    "max_solar_generation_amps": "[%key:component::zerogrid::config::step::safety::data_description::max_solar_generation_amps%]",
                    "safety_margin_amps": "[%key:component::zerogrid::config::step::safety::data_description::safety_margin_amps%]"
                }
            },
            "manage_loads": {
                "title": "[%key:component::zerogrid::config::step::loads::title%]",
                "menu_options": {
                    "add_load": "Add new load",
                    "select_load_to_edit": "Edit or delete existing load",
                    "menu": "Done"
                }
            },
            "add_load": {
                "title": "Add new load",
                "data": {
                    "name": "[%key:component::zerogrid::config::step::load_config::data::name%]",
                    "max_controllable_load_amps": "[%key:component::zerogrid::config::step::load_config::data::max_controllable_load_amps%]",
                    "min_controllable_load_amps": "[%key:component::zerogrid::config::step::load_config::data::min_controllable_load_amps%]",
                    "min_toggle_interval_seconds": "[%key:component::zerogrid::config::step::load_config::data::min_toggle_interval_seconds%]",
                    "load_amps_entity": "[%key:component::zerogrid::config::step::load_config::data::load_amps_entity%]",
                    "switch_entity": "[%key:component::zerogrid::config::step::load_config::data::switch_entity%]",
                    "throttle_amps_entity": "[%key:component::zerogrid::config::step::load_config::data::throttle_amps_entity%]",
                    "min_throttle_interval_seconds": "[%key:component::zerogrid::config::step::load_config::data::min_throttle_interval_seconds%]",
                    "can_turn_on_entity": "[%key:component::zerogrid::config::step::load_config::data::can_turn_on_entity%]",
                    "can_turn_on_ignore_unavailable": "[%key:component::zerogrid::config::step::load_config::data::can_turn_on_ignore_unavailable%]",
                    "assume_always_under_load_control": "[%key:component::zerogrid::config::step::load_config::data::assume_always_under_load_control%]",
                    "solar_turn_on_window_seconds": "[%key:component::zerogrid::config::step::load_config::data::solar_turn_on_window_seconds%]",
                    "solar_turn_off_window_seconds": "[%key:component::zerogrid::config::step::load_config::data::solar_turn_off_window_seconds%]",
                    "load_measurement_delay_seconds": "[%key:component::zerogrid::config::step::load_config::data::load_measurement_delay_seconds%]"
                },
                "data_description": {
                    "name": "[%key:component::zerogrid::config::step::load_config::data_description::name%]",
                    "max_controllable_load_amps": "[%key:component::zerogrid::config::step::load_config::data_description::max_controllable_load_amps%]",
                    "min_controllable_load_amps": "[%key:component::zerogrid::config::step::load_config::data_description::min_controllable_load_amps%]",
                    "min_toggle_interval_seconds": "[%key:component::zerogrid::config::step::load_config::data_description::min_toggle_interval_seconds%]",
                    "load_amps_entity": "[%key:component::zerogrid::config::step::load_config::data_description::load_amps_entity%]",
                    "switch_entity": "[%key:component::zerogrid::config::step::load_config::data_description::switch_entity%]",
                    "throttle_amps_entity": "[%key:component::zerogrid::config::step::load_config::data_description::throttle_amps_entity%]",
                    "min_throttle_interval_seconds": "[%key:component::zerogrid::config::step::load_config::data_description::min_throttle_interval_seconds%]",
                    "can_turn_on_entity": "[%key:component::zerogrid::config::step::load_config::data_description::can_turn_on_entity%]",
                    "can_turn_on_ignore_unavailable": "[%key:component::zerogrid::config::step::load_config::data_description::can_turn_on_ignore_unavailable%]",
                    "assume_always_under_load_control": "[%key:component::zerogrid::config::step::load_config::data_description::assume_always_under_load_control%]",
                    "solar_turn_on_window_seconds": "[%key:component::zerogrid::config::step::load_config::data_description::solar_turn_on_window_seconds%]",
                    "solar_turn_off_window_seconds": "[%key:component::zerogrid::config::step::load_config::data_description::solar_turn_off_window_seconds%]",
                    "load_measurement_delay_seconds": "[%key:component::zerogrid::config::step::load_config::data_description::load_measurement_delay_seconds%]"
                }
            },
            "select_load_to_edit": {
                "title": "Select load to edit",
                "data": {
                    "load_to_edit": "Load to edit"
                }
            },
            "edit_load": {
                "title": "Edit load: {load_name}",
                "data": {
                    "name": "[%key:component::zerogrid::config::step::load_config::data::name%]",
                    "max_controllable_load_amps": "[%key:component::zerogrid::config::step::load_config::data::max_controllable_load_amps%]",
                    "min_controllable_load_amps": "[%key:component::zerogrid::config::step::load_config::data::min_controllable_load_amps%]",
                    "min_toggle_interval_seconds": "[%key:component::zerogrid::config::step::load_config::data::min_toggle_interval_seconds%]",
                    "load_amps_entity": "[%key:component::zerogrid::config::step::load_config::data::load_amps_entity%]",
                    "switch_entity": "[%key:component::zerogrid::config::step::load_config::data::switch_entity%]",
                    "throttle_amps_entity": "[%key:component::zerogrid::config::step::load_config::data::throttle_amps_entity%]",
                    "min_throttle_interval_seconds": "[%key:component::zerogrid::config::step::load_config::data::min_throttle_interval_seconds%]",
                    "can_turn_on_entity": "[%key:component::zerogrid::config::step::load_config::data::can_turn_on_entity%]",
                    "can_turn_on_ignore_unavailable": "[%key:component::zerogrid::config::step::load_config::data::can_turn_on_ignore_unavailable%]",
                    "assume_always_under_load_control": "[%key:component::zerogrid::config::step::load_config::data::assume_always_under_load_control%]",
                    "solar_turn_on_window_seconds": "[%key:component::zerogrid::config::step::load_config::data::solar_turn_on_window_seconds%]",
                    "solar_turn_off_window_seconds": "[%key:component::zerogrid::config::step::load_config::data::solar_turn_off_window_seconds%]",
                    "load_measurement_delay_seconds": "[%key:component::zerogrid::config::step::load_config::data::load_measurement_delay_seconds%]",
                    "delete_load": "Delete this load"
                },
                "data_description": {
                    "name": "[%key:component::zerogrid::config::step::load_config::data_description::name%]",
                    "max_controllable_load_amps": "[%key:component::zerogrid::config::step::load_config::data_description::max_controllable_load_amps%]",
                    "min_controllable_load_amps": "[%key:component::zerogrid::config::step::load_config::data_description::min_controllable_load_amps%]",
                    "min_toggle_interval_seconds": "[%key:component::zerogrid::config::step::load_config::data_description::min_toggle_interval_seconds%]",
                    "load_amps_entity": "[%key:component::zerogrid::config::step::load_config::data_description::load_amps_entity%]",
                    "switch_entity": "[%key:component::zerogrid::config::step::load_config::data_description::switch_entity%]",
                    "throttle_amps_entity": "[%key:component::zerogrid::config::step::load_config::data_description::throttle_amps_entity%]",
                    "min_throttle_interval_seconds": "[%key:component::zerogrid::config::step::load_config::data_description::min_throttle_interval_seconds%]",
                    "can_turn_on_entity": "[%key:component::zerogrid::config::step::load_config::data_description::can_turn_on_entity%]",
                    "can_turn_on_ignore_unavailable": "[%key:component::zerogrid::config::step::load_config::data_description::can_turn_on_ignore_unavailable%]",
                    "assume_always_under_load_control": "[%key:component::zerogrid::config::step::load_config::data_description::assume_always_under_load_control%]",
                    "solar_turn_on_window_seconds": "[%key:component::zerogrid::config::step::load_config::data_description::solar_turn_on_window_seconds%]",
                    "solar_turn_off_window_seconds": "[%key:component::zerogrid::config::step::load_config::data_description::solar_turn_off_window_seconds%]",
                    "load_measurement_delay_seconds": "[%key:component::zerogrid::config::step::load_config::data_description::load_measurement_delay_seconds%]",
                    "delete_load": "Check this box to delete this load from the configuration"
                }
            },
            "reorder_loads": {
                "title": "Reorder load priority",
                "description": "Set the priority for each position. Loads in higher positions will be prioritized for turning on first and turning off last. Position 0 has the highest priority."
            }
        }
    },
    "entity": {
        "number": {
            "reserved_current": {
                "name": "Reserved current"
            }
        }
    }
}